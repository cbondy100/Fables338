<!doctype html>
<html>
<head>
    <title>StoryPainter</title>
    <link rel="stylesheet" type="text/css" href="/staticFiles/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@700&display=swap" rel="stylesheet">
</head>
<body class='resultbody' onload="testing()">

    <script type="text/javascript">
        
        //var sentence_list = ["seven", "eight", "nine"];
        //var str = "<p>";
        //sentence_list.forEach(function(sentence) {
        //    str += sentence;
        //})
        //str += "<\p>";
        //var sentence_list = {{ s_list }}

        function testing(){
            console.log("running javascript");
            var data = JSON.parse('{{ data | tojson }}');
            var images_list = data.images;
            var result_story = data.full_story;
            console.log(result_story);
            var str = "<div class='imagesdiv'>";
            images_list.forEach(function(image){
                str+="<img src= '" + image + "' class='images' alt='SOMETEXT' width='300'></img>";
            })
            str+= "</div>"
            document.getElementById("sentenceContainer").innerHTML = str;  
            
            str2 = "<p>" + result_story + "</p>"
            document.getElementById("full_story").innerHTML = str2
        }
    </script>
    <!-- <img src={{result}} /> -->
    <div class="titlebox">
        <h1 class = 'resulttitle'>{{data.title}}</h1>
    </div>

    <div class="resultstory">
        <div class = "result-text">
            <p id="full_story"></p>
        </div>
        
        <p id = "sentenceContainer"></p>
    </div>
    
</body>